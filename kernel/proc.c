#include "types.h"
#include "param.h"
#include "memlayout.h"
#include "fcntl.h"
#include "spinlock.h"
#include "riscv.h"
#include "mmap.h"
#include "proc.h"
#include "defs.h"

struct proc proc[NPROC];

struct cpu cpus[NCPU];

struct proc *initproc;

struct spinlock wait_lock;

extern char trampoline[];

#define KSTACK_SIZE (PGSIZE * 2)
_Alignas(PGSIZE) char stack[KSTACK_SIZE * 2 * (NPROC + 1)];

void
cpuinit(uint64 hartid)
{
  cpus[hartid].intena = 0;
  cpus[hartid].noff = 0;
}

int
cpuid()
{
  int id = r_tp();
  return id;
}

struct cpu *
mycpu()
{
  int id = cpuid();
  struct cpu *c = &cpus[id];
  return c;
}

int
killed(struct proc *p)
{
  int k;

  acquire(&p->lock);
  k = p->killed;
  release(&p->lock);

  return k;
}

struct proc *
myproc(void)
{
  // 关闭中断 ???
  push_off();
  struct cpu *c = mycpu();
  struct proc *p = c->proc;
  pop_off();

  return p;
}

struct proc *
allocproc()
{
  struct proc *p;

  for(p = proc; p < &proc[NPROC]; p++) {
    acquire(&p->lock);
    if(p->state == UNUSED) {
      goto found;
    } else {
      release(&p->lock);
    }
  }
  return 0;

found:
  if ((p->trapframe = (struct trapframe *)kalloc()) == 0) {
    release(&p->lock);
    return 0;
  }

  // 为进程创建页表
  p->pagetable = proc_pagetable(p);

  memset(&p->context, 0, sizeof(p->context));
  memset(p->trapframe, 0, sizeof(*p->trapframe));
  memset(p->vma, 0, sizeof(p->vma));
  memset(p->ofile, 0, sizeof(p->ofile));
  p->context.sp = p->kstack + KSTACK_SIZE;
  p->context.ra = (uint64)forkret;
  release(&p->lock);
  return p;
}

pagetable_t
proc_pagetable(struct proc *p)
{
  pagetable_t pagetable;

  // 创建一个空的页表
  pagetable = uvmcreate();
  if(pagetable == 0)
    return 0;

  // 映射trampoline(用于系统调用)到虚拟地址的顶端
  if(mappages(pagetable, TRAMPOLINE, (uint64)trampoline, PGSIZE, PTE_R | PTE_X) < 0)
  {
    uvmfree(pagetable, 0);
    return 0;
  }

  // 映射trapframe到TRAPFRAME, TRAMPOLINE的低位一页
  if(mappages(pagetable, TRAPFRAME, (uint64)p->trapframe, PGSIZE, PTE_R | PTE_X) < 0) 
  {
    uvmunmap(pagetable, TRAMPOLINE, 1, 0);
    uvmfree(pagetable, 0);
    return 0;
  }

  return pagetable;
}

int
either_copy(int user, uint64 dst, void *src, uint len)
{
  while(1)
    ;
}

// A fork child's very first scheduling by scheduler()
// will swtch to forkret.
void
forkret(void)
{
  static int first = 1;

  // Still holding p->lock from scheduler.
  release(&myproc()->lock);

  if (first) {
    // File system initialization must be run in the context of a
    // regular process (e.g., because it calls sleep), and thus cannot
    // be run from main().
    first = 0;
    TODO();
  }

  usertrapret();
}

void
sleep(void *chan, struct spinlock *lk)
{
  struct proc *p = myproc();

  acquire(&p->lock);
  release(lk);

  p->chan = chan;
  p->state = SLEEPING;

  // 进程切换
  sched();
  
  release(&p->lock);
  acquire(lk);
}

void
exit(int status)
{
  struct proc *p = myproc();

  if(p == initproc)
    panic("init proc exit");

  // Close all open files.
  for(int fd = 0; fd < NOFILE; fd++){
    if(p->ofile[fd]){
      // struct file *f = p->ofile[fd];
      // fileclose(f);
      p->ofile[fd] = 0;
    }
  }

  /*
  begin_op();
  iput(p->cwd);
  end_op();
  p->cwd = 0;
  */

  acquire(&wait_lock);
  // 归还当前目录的inode
  memset(p->currentDir, 0, MAXPATH);
  reparent(p);

  struct vma* vma;

  int i;
  for(i = 0; i < NOMMAPFILE; i++)
  {
    vma = p->vma[i];
    if(vma)
    {
      if(vma->flag & MAP_SHARED) {
        // TODO();
      }
    }
  }

  p->state = ZOMBIE;
  p->xstate = status;

  // wakeup(p->parent);
  acquire(&p->lock);

  release(&wait_lock);

  sched();
  panic("exit");
}

void
sched()
{
  panic("sched todo");
}

void
reparent(struct proc *p)
{
  panic("reparent todo");
}

void
inittasktable()
{
  initlock(&wait_lock, "wait_lock");
  int i;
  for (i = 0; i < NPROC; i++) { 
    initlock(&proc[i].lock, "proc");
    proc[i].pid = i;

    proc[i].kstack = (uint64)(stack + KSTACK_SIZE * i);
    proc[i].trapframe = 0;
    proc[i].state = UNUSED;

    proc[i].killed = 0;
    proc[i].xstate = 0;
    proc[i].sz = 0;
    proc[i].sticks = 0;
    memset(proc[i].vma, 0, sizeof(struct vma *) * NOMMAPFILE);
    proc[i].uticks = 0;
    memset(proc[i].currentDir, 0, MAXPATH);
    memset(proc[i].ofile, 0, sizeof(struct file *) * NOFILE);
  }
}

uchar initcode[] = {
0x01,0x11,0x06,0xec,0x22,0xe8,0x26,0xe4,0x2e,0x84,0xaa,0x85,0x17,0x15,0x00,0x00,
0x13,0x05,0x45,0x11,0x97,0x10,0x00,0x00,0xe7,0x80,0xe0,0xe9,0x0c,0x60,0x99,0xcd,
0x21,0x04,0x97,0x14,0x00,0x00,0x93,0x84,0xe4,0x10,0x26,0x85,0x97,0x10,0x00,0x00,
0xe7,0x80,0x60,0xe8,0x21,0x04,0x83,0x35,0x84,0xff,0xe5,0xf9,0x17,0x15,0x00,0x00,
0x13,0x05,0xc5,0x0f,0x97,0x10,0x00,0x00,0xe7,0x80,0xe0,0xe6,0xe2,0x60,0x42,0x64,
0xa2,0x64,0x05,0x61,0x82,0x80,0x01,0x11,0x06,0xec,0x22,0xe8,0x26,0xe4,0x2e,0x84,
0xaa,0x85,0x17,0x15,0x00,0x00,0x13,0x05,0xe5,0x0b,0x97,0x10,0x00,0x00,0xe7,0x80,
0x80,0xe4,0x0c,0x60,0x99,0xcd,0x21,0x04,0x97,0x14,0x00,0x00,0x93,0x84,0x84,0x0b,
0x26,0x85,0x97,0x10,0x00,0x00,0xe7,0x80,0x00,0xe3,0x21,0x04,0x83,0x35,0x84,0xff,
0xe5,0xf9,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0x0b,0x97,0x10,0x00,0x00,0xe7,0x80,
0x80,0xe1,0xe2,0x60,0x42,0x64,0xa2,0x64,0x05,0x61,0x82,0x80,0x79,0x71,0x06,0xf4,
0x22,0xf0,0x26,0xec,0x2a,0x84,0xae,0x84,0x97,0x10,0x00,0x00,0xe7,0x80,0xe0,0x82,
0x09,0xed,0x01,0x46,0xa6,0x85,0x22,0x85,0x97,0x10,0x00,0x00,0xe7,0x80,0x60,0x94,
0xa2,0x70,0x02,0x74,0xe2,0x64,0x45,0x61,0x82,0x80,0x68,0x00,0x97,0x10,0x00,0x00,
0xe7,0x80,0x20,0x81,0xb2,0x47,0x63,0xc9,0x07,0x00,0xa6,0x85,0x22,0x85,0x97,0x00,
0x00,0x00,0xe7,0x80,0x20,0xf1,0xe9,0xbf,0xa6,0x85,0x22,0x85,0x97,0x00,0x00,0x00,
0xe7,0x80,0xa0,0xf5,0xf1,0xb7,0x13,0x01,0x01,0xb8,0x23,0x3c,0x11,0x46,0x23,0x38,
0x81,0x46,0x89,0x45,0x17,0x15,0x00,0x00,0x13,0x05,0xc5,0x03,0x97,0x00,0x00,0x00,
0xe7,0x80,0xa0,0x7d,0x01,0x45,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0x7e,0x01,0x45,
0x97,0x00,0x00,0x00,0xe7,0x80,0xe0,0x7d,0x17,0x17,0x00,0x00,0x13,0x07,0x07,0x02,
0x23,0x3c,0xe1,0x44,0x97,0x17,0x00,0x00,0x93,0x87,0xc7,0x01,0x23,0x30,0xf1,0x46,
0x23,0x34,0x01,0x46,0x97,0x17,0x00,0x00,0x93,0x87,0x47,0xee,0x23,0x3c,0xf1,0x42,
0x97,0x16,0x00,0x00,0x93,0x86,0x06,0xee,0x23,0x30,0xd1,0x44,0x97,0x17,0x00,0x00,
0x93,0x87,0xc7,0xed,0x23,0x34,0xf1,0x44,0x23,0x38,0x01,0x44,0x17,0x16,0x00,0x00,
0x13,0x06,0x46,0xed,0x23,0x3c,0xc1,0x40,0x23,0x30,0xd1,0x42,0x23,0x34,0xf1,0x42,
0x23,0x38,0x01,0x42,0x97,0x17,0x00,0x00,0x93,0x87,0xc7,0xfe,0x23,0x30,0xf1,0x40,
0x97,0x17,0x00,0x00,0x93,0x87,0x07,0xff,0x23,0x34,0xf1,0x40,0x23,0x38,0x01,0x40,
0x97,0x16,0x00,0x00,0x93,0x86,0x06,0xff,0x23,0x38,0xd1,0x3e,0x23,0x3c,0x01,0x3e,
0x97,0x16,0x00,0x00,0x93,0x86,0x86,0xfe,0x23,0x30,0xd1,0x3e,0x23,0x34,0x01,0x3e,
0x97,0x16,0x00,0x00,0x93,0x86,0x06,0xfe,0x23,0x38,0xd1,0x3c,0x23,0x3c,0x01,0x3c,
0x97,0x16,0x00,0x00,0x93,0x86,0x86,0xfd,0x23,0x30,0xd1,0x3c,0x23,0x34,0x01,0x3c,
0x97,0x16,0x00,0x00,0x93,0x86,0x06,0xfd,0x23,0x34,0xd1,0x3a,0x23,0x38,0xf1,0x3a,
0x23,0x3c,0x01,0x3a,0x97,0x17,0x00,0x00,0x93,0x87,0x47,0xfc,0x23,0x3c,0xf1,0x38,
0x23,0x30,0x01,0x3a,0x97,0x17,0x00,0x00,0x93,0x87,0xc7,0x15,0x03,0xb8,0x07,0x00,
0x88,0x67,0x8c,0x6b,0x90,0x6f,0x94,0x73,0x23,0x38,0x01,0x37,0x23,0x3c,0xa1,0x36,
0x23,0x30,0xb1,0x38,0x23,0x34,0xc1,0x38,0x23,0x38,0xd1,0x38,0x97,0x16,0x00,0x00,
0x93,0x86,0x46,0xf9,0x23,0x30,0xd1,0x36,0x23,0x34,0x01,0x36,0x97,0x16,0x00,0x00,
0x93,0x86,0xc6,0xf8,0x23,0x38,0xd1,0x34,0x23,0x3c,0x01,0x34,0x97,0x16,0x00,0x00,
0x93,0x86,0x46,0xf8,0x23,0x3c,0xd1,0x32,0x97,0x16,0x00,0x00,0x93,0x86,0x06,0xf8,
0x23,0x30,0xd1,0x34,0x23,0x34,0x01,0x34,0x17,0x16,0x00,0x00,0x13,0x06,0x86,0xf7,
0x23,0x34,0xc1,0x32,0x23,0x38,0x01,0x32,0x17,0x16,0x00,0x00,0x13,0x06,0x06,0xf7,
0x23,0x3c,0xc1,0x30,0x23,0x30,0x01,0x32,0x17,0x16,0x00,0x00,0x13,0x06,0x86,0xf6,
0x23,0x30,0xc1,0x30,0x17,0x16,0x00,0x00,0x13,0x06,0x46,0xf6,0x23,0x34,0xc1,0x30,
0x23,0x38,0x01,0x30,0x17,0x16,0x00,0x00,0x13,0x06,0xc6,0xf5,0x23,0x38,0xc1,0x2e,
0x23,0x3c,0x01,0x2e,0x17,0x16,0x00,0x00,0x13,0x06,0x46,0xf5,0x23,0x30,0xc1,0x2e,
0x23,0x34,0x01,0x2e,0x17,0x16,0x00,0x00,0x13,0x06,0xc6,0xf4,0x23,0x38,0xc1,0x2c,
0x23,0x3c,0x01,0x2c,0x17,0x16,0x00,0x00,0x13,0x06,0x46,0xf4,0x23,0x3c,0xc1,0x2a,
0x17,0x16,0x00,0x00,0x13,0x06,0x06,0xf4,0x23,0x30,0xc1,0x2c,0x23,0x34,0x01,0x2c,
0x23,0x34,0xd1,0x2a,0x23,0x38,0x01,0x2a,0x97,0x16,0x00,0x00,0x93,0x86,0x06,0xf3,
0x23,0x3c,0xd1,0x28,0x23,0x30,0x01,0x2a,0x23,0x30,0xe1,0x28,0x17,0x17,0x00,0x00,
0x13,0x07,0x47,0xf2,0x23,0x34,0xe1,0x28,0x23,0x38,0x01,0x28,0x17,0x17,0x00,0x00,
0x13,0x07,0x47,0xf3,0x23,0x34,0xe1,0x26,0x17,0x14,0x00,0x00,0x13,0x04,0x84,0xd4,
0x23,0x38,0x81,0x26,0x23,0x3c,0x01,0x26,0x17,0x17,0x00,0x00,0x13,0x07,0x07,0xf2,
0x23,0x38,0xe1,0x24,0x23,0x3c,0x81,0x24,0x23,0x30,0x01,0x26,0x88,0x77,0x8c,0x7b,
0x90,0x7f,0xb4,0x63,0xb8,0x67,0x23,0x34,0xa1,0x22,0x23,0x38,0xb1,0x22,0x23,0x3c,
0xc1,0x22,0x23,0x30,0xd1,0x24,0x23,0x34,0xe1,0x24,0x17,0x17,0x00,0x00,0x13,0x07,
0x67,0xef,0x23,0x38,0xe1,0x20,0x23,0x3c,0x81,0x20,0x23,0x30,0x01,0x22,0x17,0x17,
0x00,0x00,0x13,0x07,0xa7,0xee,0xba,0xff,0x23,0x30,0x81,0x20,0x23,0x34,0x01,0x20,
0x17,0x17,0x00,0x00,0x13,0x07,0x07,0xee,0xba,0xf3,0xa2,0xf7,0x82,0xfb,0x17,0x17,
0x00,0x00,0x13,0x07,0x27,0xce,0xba,0xe3,0x17,0x17,0x00,0x00,0x13,0x07,0x07,0xce,
0xba,0xe7,0xa2,0xeb,0x82,0xef,0x17,0x17,0x00,0x00,0x13,0x07,0x27,0xec,0x3a,0xf7,
0x22,0xfb,0x02,0xff,0x17,0x17,0x00,0x00,0x13,0x07,0xc7,0xeb,0x3a,0xeb,0x22,0xef,
0x02,0xf3,0x17,0x17,0x00,0x00,0x13,0x07,0x67,0xeb,0xba,0xfe,0x22,0xe3,0x02,0xe7,
0x17,0x17,0x00,0x00,0x13,0x07,0x07,0xeb,0xba,0xf2,0xa2,0xf6,0x82,0xfa,0xac,0x6b,
0xb0,0x6f,0xb4,0x73,0xb8,0x77,0xbc,0x7b,0x2e,0xfe,0xb2,0xe2,0xb6,0xe6,0xba,0xea,
0xbe,0xee,0x97,0x17,0x00,0x00,0x93,0x87,0x67,0xe9,0x3e,0xf2,0x22,0xf6,0x02,0xfa,
0x97,0x17,0x00,0x00,0x93,0x87,0x07,0xe9,0x3e,0xe6,0x22,0xea,0x02,0xee,0x97,0x17,
0x00,0x00,0x93,0x87,0xa7,0xe8,0xbe,0xf9,0x97,0x17,0x00,0x00,0x93,0x87,0x87,0xc8,
0xbe,0xfd,0x02,0xe2,0x97,0x17,0x00,0x00,0x93,0x87,0xc7,0xe7,0xbe,0xed,0x97,0x17,
0x00,0x00,0x93,0x87,0x27,0xc8,0xbe,0xf1,0x82,0xf5,0x97,0x17,0x00,0x00,0x93,0x87,
0xe7,0xc7,0x3e,0xfd,0x97,0x17,0x00,0x00,0x93,0x87,0xc7,0xc7,0xbe,0xe1,0x97,0x17,
0x00,0x00,0x93,0x87,0xa7,0xc7,0xbe,0xe5,0x82,0xe9,0x17,0x17,0x00,0x00,0x13,0x07,
0xe7,0xc7,0x3a,0xed,0x3e,0xf1,0x97,0x17,0x00,0x00,0x93,0x87,0xa7,0xc7,0x3e,0xf5,
0x02,0xf9,0x97,0x17,0x00,0x00,0x93,0x87,0x67,0xe3,0x3e,0xe5,0x02,0xe9,0x97,0x17,
0x00,0x00,0x93,0x87,0xa7,0xe3,0xbe,0xfc,0x02,0xe1,0x97,0x17,0x00,0x00,0x93,0x87,
0xe7,0xe3,0xbe,0xf4,0x82,0xf8,0x97,0x17,0x00,0x00,0x93,0x87,0x27,0xe4,0xbe,0xec,
0x82,0xf0,0x97,0x17,0x00,0x00,0x93,0x87,0x67,0xe4,0xbe,0xe4,0x82,0xe8,0x97,0x17,
0x00,0x00,0x93,0x87,0xa7,0xe4,0x3e,0xfc,0x82,0xe0,0x97,0x17,0x00,0x00,0x93,0x87,
0xe7,0xe4,0x3e,0xf4,0x02,0xf8,0x97,0x17,0x00,0x00,0x93,0x87,0x27,0xe5,0x3e,0xec,
0x02,0xf0,0x97,0x17,0x00,0x00,0x93,0x87,0x67,0xe5,0x3e,0xe4,0x02,0xe8,0x93,0x05,
0x81,0x45,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0xe5,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0xba,0x93,0x05,0x81,0x43,0x17,0x15,0x00,0x00,0x13,0x05,0x25,0xe4,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0xb8,0x93,0x05,0x81,0x41,0x17,0x15,0x00,0x00,0x13,0x05,
0xe5,0xe2,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0xb7,0x93,0x05,0x01,0x40,0x17,0x15,
0x00,0x00,0x13,0x05,0xa5,0xe1,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0xb6,0x8c,0x1f,
0x17,0x15,0x00,0x00,0x13,0x05,0x85,0xe0,0x97,0x00,0x00,0x00,0xe7,0x80,0x40,0xb5,
0x8c,0x17,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0xdf,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0xb4,0x8c,0x0f,0x17,0x15,0x00,0x00,0x13,0x05,0x45,0xde,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0xb3,0x8c,0x07,0x17,0x15,0x00,0x00,0x13,0x05,0x25,0xdd,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0xb1,0x2c,0x17,0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xdc,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0xb0,0x2c,0x0f,0x17,0x15,0x00,0x00,0x13,0x05,
0xe5,0xda,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0xaf,0x8c,0x1e,0x17,0x15,0x00,0x00,
0x13,0x05,0xc5,0xd9,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0xae,0x8c,0x16,0x17,0x15,
0x00,0x00,0x13,0x05,0xa5,0xd8,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0xad,0x8c,0x0e,
0x17,0x15,0x00,0x00,0x13,0x05,0x85,0xd7,0x97,0x00,0x00,0x00,0xe7,0x80,0x40,0xac,
0x2c,0x1e,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0xd6,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0xab,0x2c,0x16,0x17,0x15,0x00,0x00,0x13,0x05,0x45,0xd5,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0xaa,0x2c,0x0e,0x17,0x15,0x00,0x00,0x13,0x05,0x25,0xd4,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0xa8,0x0c,0x06,0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xd3,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0xa7,0x8c,0x1d,0x17,0x15,0x00,0x00,0x13,0x05,
0xe5,0xd1,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0xa6,0x8c,0x0d,0x17,0x15,0x00,0x00,
0x13,0x05,0xc5,0xd0,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0xa5,0x2c,0x1d,0x17,0x15,
0x00,0x00,0x13,0x05,0xa5,0xcf,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0xa4,0x2c,0x15,
0x17,0x15,0x00,0x00,0x13,0x05,0x85,0xce,0x97,0x00,0x00,0x00,0xe7,0x80,0x40,0xa3,
0x2c,0x0d,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0xcd,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0xa2,0x8c,0x15,0x17,0x15,0x00,0x00,0x13,0x05,0x45,0xcc,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0xa1,0x0c,0x05,0x17,0x15,0x00,0x00,0x13,0x05,0x25,0xcb,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0x9f,0xac,0x14,0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xca,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0x9e,0x89,0x45,0x22,0x85,0x97,0x00,0x00,0x00,
0xe7,0x80,0xa0,0x22,0x2a,0x84,0x63,0x4e,0x05,0x1e,0x35,0x46,0x97,0x15,0x00,0x00,
0x93,0x85,0x45,0xc8,0x22,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0x2a,0x63,0x47,
0x05,0x1e,0x22,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0x00,0x27,0x8c,0x0c,0x17,0x15,
0x00,0x00,0x13,0x05,0xa5,0xc5,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0x9a,0x2c,0x14,
0x17,0x15,0x00,0x00,0x13,0x05,0x85,0xc4,0x97,0x00,0x00,0x00,0xe7,0x80,0x40,0x99,
0x0c,0x0c,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0xc3,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0x98,0xac,0x1b,0x17,0x15,0x00,0x00,0x13,0x05,0x45,0xc2,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0x97,0x8c,0x13,0x17,0x15,0x00,0x00,0x13,0x05,0x25,0xc1,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0x95,0x8c,0x03,0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xc0,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0x94,0x2c,0x13,0x17,0x15,0x00,0x00,0x13,0x05,
0xe5,0xbe,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0x93,0x0c,0x0b,0x17,0x15,0x00,0x00,
0x13,0x05,0xc5,0xbd,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0x92,0xac,0x1a,0x17,0x15,
0x00,0x00,0x13,0x05,0xa5,0xbc,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0x91,0x8c,0x12,
0x17,0x15,0x00,0x00,0x13,0x05,0x85,0xbb,0x97,0x00,0x00,0x00,0xe7,0x80,0x40,0x90,
0x2c,0x1a,0x17,0x15,0x00,0x00,0x13,0x05,0x65,0xba,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0x8f,0x0c,0x12,0x17,0x15,0x00,0x00,0x13,0x05,0x45,0xb9,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0x8e,0x2c,0x02,0x17,0x15,0x00,0x00,0x13,0x05,0x25,0xb8,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0x8c,0x8c,0x19,0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xb7,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0x8b,0xac,0x09,0x17,0x15,0x00,0x00,0x13,0x05,
0xe5,0xb5,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0x8a,0x2c,0x19,0x17,0x15,0x00,0x00,
0x13,0x05,0xc5,0xb4,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0x89,0x2c,0x09,0x17,0x15,
0x00,0x00,0x13,0x05,0xa5,0xb3,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0x88,0x2c,0x01,
0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xac,0x97,0x00,0x00,0x00,0xe7,0x80,0x40,0x87,
0xac,0x18,0x17,0x15,0x00,0x00,0x13,0x05,0xe5,0xaa,0x97,0x00,0x00,0x00,0xe7,0x80,
0x20,0x86,0xac,0x10,0x17,0x15,0x00,0x00,0x13,0x05,0xc5,0xa9,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0x85,0xac,0x08,0x17,0x15,0x00,0x00,0x13,0x05,0xa5,0xa8,0x97,0x00,
0x00,0x00,0xe7,0x80,0xe0,0x83,0xac,0x00,0x17,0x15,0x00,0x00,0x13,0x05,0x85,0xa7,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0x82,0x2c,0x18,0x17,0x15,0x00,0x00,0x13,0x05,
0x65,0xa6,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0x81,0x2c,0x10,0x17,0x15,0x00,0x00,
0x13,0x05,0x45,0xa5,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0x80,0x2c,0x08,0x17,0x15,
0x00,0x00,0x13,0x05,0x25,0xa4,0x97,0xf0,0xff,0xff,0xe7,0x80,0x60,0x7f,0x2c,0x00,
0x17,0x15,0x00,0x00,0x13,0x05,0x05,0xa3,0x97,0xf0,0xff,0xff,0xe7,0x80,0x40,0x7e,
0x01,0xa0,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0x15,0x01,0xb5,0x97,0x00,0x00,0x00,
0xe7,0x80,0x00,0x15,0x39,0xb5,0x85,0x48,0x73,0x00,0x00,0x00,0x82,0x80,0x8d,0x48,
0x73,0x00,0x00,0x00,0x82,0x80,0x89,0x48,0x73,0x00,0x00,0x00,0x82,0x80,0x91,0x48,
0x73,0x00,0x00,0x00,0x82,0x80,0xc5,0x48,0x73,0x00,0x00,0x00,0x82,0x80,0xdd,0x48,
0x73,0x00,0x00,0x00,0x82,0x80,0xe1,0x48,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,
0x20,0x02,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x30,0x02,0x73,0x00,0x00,0x00,
0x82,0x80,0x93,0x08,0x50,0x02,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x70,0x02,
0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x80,0x02,0x73,0x00,0x00,0x00,0x82,0x80,
0x93,0x08,0x10,0x03,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x80,0x03,0x73,0x00,
0x00,0x00,0x82,0x80,0x93,0x08,0x90,0x03,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,
0xb0,0x03,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0xd0,0x03,0x73,0x00,0x00,0x00,
0x82,0x80,0x93,0x08,0xf0,0x03,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x00,0x04,
0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x00,0x05,0x73,0x00,0x00,0x00,0x82,0x80,
0x93,0x08,0xd0,0x05,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x50,0x06,0x73,0x00,
0x00,0x00,0x82,0x80,0x93,0x08,0xc0,0x07,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,
0x90,0x09,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x00,0x0a,0x73,0x00,0x00,0x00,
0x82,0x80,0x93,0x08,0x90,0x0a,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x60,0x0d,
0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0x70,0x0d,0x73,0x00,0x00,0x00,0x82,0x80,
0x93,0x08,0xc0,0x0a,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0xd0,0x0a,0x73,0x00,
0x00,0x00,0x82,0x80,0x93,0x08,0xc0,0x0d,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,
0xd0,0x0d,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0xe0,0x0d,0x73,0x00,0x00,0x00,
0x82,0x80,0x93,0x08,0x40,0x10,0x73,0x00,0x00,0x00,0x82,0x80,0x93,0x08,0xf0,0x18,
0x73,0x00,0x00,0x00,0x82,0x80,0xaa,0x87,0x85,0x05,0x85,0x07,0x03,0xc7,0xf5,0xff,
0xa3,0x8f,0xe7,0xfe,0x75,0xfb,0x82,0x80,0x83,0x47,0x05,0x00,0x91,0xcb,0x03,0xc7,
0x05,0x00,0x63,0x17,0xf7,0x00,0x05,0x05,0x85,0x05,0x83,0x47,0x05,0x00,0xe5,0xfb,
0x03,0xc5,0x05,0x00,0x3b,0x85,0xa7,0x40,0x82,0x80,0x83,0x47,0x05,0x00,0x81,0xcf,
0x05,0x05,0xaa,0x87,0x85,0x46,0x89,0x9e,0x3b,0x85,0xf6,0x00,0x85,0x07,0x03,0xc7,
0xf7,0xff,0x7d,0xfb,0x82,0x80,0x01,0x45,0x82,0x80,0x09,0xce,0xaa,0x87,0x1b,0x07,
0xf6,0xff,0x02,0x17,0x01,0x93,0x05,0x07,0x2a,0x97,0x23,0x80,0xb7,0x00,0x85,0x07,
0xe3,0x9d,0xe7,0xfe,0x82,0x80,0x83,0x47,0x05,0x00,0x89,0xcb,0x63,0x89,0xf5,0x00,
0x05,0x05,0x83,0x47,0x05,0x00,0xfd,0xfb,0x01,0x45,0x82,0x80,0x01,0x45,0x82,0x80,
0x5d,0x71,0x86,0xe4,0xa2,0xe0,0x26,0xfc,0x4a,0xf8,0x4e,0xf4,0x52,0xf0,0x56,0xec,
0x5a,0xe8,0x2a,0x8b,0xae,0x89,0xaa,0x84,0x01,0x44,0x29,0x4a,0xb5,0x4a,0x22,0x89,
0x05,0x24,0x63,0x58,0x34,0x03,0x05,0x46,0x93,0x05,0xf1,0x00,0x01,0x45,0x97,0x00,
0x00,0x00,0xe7,0x80,0x40,0xe9,0x63,0x5e,0xa0,0x00,0x83,0x47,0xf1,0x00,0x23,0x80,
0xf4,0x00,0x63,0x87,0x47,0x01,0x85,0x04,0xe3,0x9b,0x57,0xfd,0x22,0x89,0x11,0xa0,
0x22,0x89,0x5a,0x99,0x23,0x00,0x09,0x00,0x5a,0x85,0xa6,0x60,0x06,0x64,0xe2,0x74,
0x42,0x79,0xa2,0x79,0x02,0x7a,0xe2,0x6a,0x42,0x6b,0x61,0x61,0x82,0x80,0xaa,0x86,
0x03,0x46,0x05,0x00,0x9b,0x07,0x06,0xfd,0x93,0xf7,0xf7,0x0f,0x25,0x47,0x63,0x66,
0xf7,0x02,0x01,0x45,0xa5,0x45,0x85,0x06,0x9b,0x17,0x25,0x00,0xa9,0x9f,0x9b,0x97,
0x17,0x00,0xb1,0x9f,0x1b,0x85,0x07,0xfd,0x03,0xc6,0x06,0x00,0x1b,0x07,0x06,0xfd,
0x13,0x77,0xf7,0x0f,0xe3,0xf1,0xe5,0xfe,0x82,0x80,0x01,0x45,0x82,0x80,0x63,0x74,
0xb5,0x02,0x63,0x56,0xc0,0x04,0x9b,0x07,0xf6,0xff,0x82,0x17,0x81,0x93,0x85,0x07,
0xaa,0x97,0x2a,0x87,0x85,0x05,0x05,0x07,0x83,0xc6,0xf5,0xff,0xa3,0x0f,0xd7,0xfe,
0xe3,0x9a,0xe7,0xfe,0x82,0x80,0x33,0x07,0xc5,0x00,0xb2,0x95,0x63,0x51,0xc0,0x02,
0x9b,0x07,0xf6,0xff,0x82,0x17,0x81,0x93,0x93,0xc7,0xf7,0xff,0xba,0x97,0xfd,0x15,
0x7d,0x17,0x83,0xc6,0x05,0x00,0x23,0x00,0xd7,0x00,0xe3,0x9a,0xe7,0xfe,0x82,0x80,
0x9b,0x06,0xf6,0xff,0x05,0xc6,0x82,0x16,0x81,0x92,0x85,0x06,0xaa,0x96,0x83,0x47,
0x05,0x00,0x03,0xc7,0x05,0x00,0x63,0x98,0xe7,0x00,0x05,0x05,0x85,0x05,0xe3,0x18,
0xd5,0xfe,0x01,0x45,0x82,0x80,0x3b,0x85,0xe7,0x40,0x82,0x80,0x01,0x45,0x82,0x80,
0x41,0x11,0x06,0xe4,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0xf7,0xa2,0x60,0x41,0x01,
0x82,0x80,0x01,0x11,0x06,0xec,0xa3,0x07,0xb1,0x00,0x05,0x46,0x93,0x05,0xf1,0x00,
0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0xd7,0xe2,0x60,0x05,0x61,0x82,0x80,0x79,0x71,
0x06,0xf4,0x22,0xf0,0x26,0xec,0x4a,0xe8,0xaa,0x84,0x99,0xc2,0x63,0xc3,0x05,0x08,
0x81,0x25,0x81,0x48,0x8a,0x86,0x01,0x47,0x01,0x26,0x17,0x05,0x00,0x00,0x13,0x05,
0x65,0x7b,0x3a,0x88,0x05,0x27,0xbb,0xf7,0xc5,0x02,0x82,0x17,0x81,0x93,0xaa,0x97,
0x83,0xc7,0x07,0x00,0x23,0x80,0xf6,0x00,0x9b,0x87,0x05,0x00,0xbb,0xd5,0xc5,0x02,
0x85,0x06,0xe3,0xf0,0xc7,0xfe,0x63,0x8a,0x08,0x00,0x1c,0x08,0x3e,0x97,0x93,0x07,
0xd0,0x02,0x23,0x08,0xf7,0xfe,0x1b,0x07,0x28,0x00,0x63,0x56,0xe0,0x02,0x33,0x04,
0xe1,0x00,0x13,0x09,0xf1,0xff,0x3a,0x99,0x7d,0x37,0x02,0x17,0x01,0x93,0x33,0x09,
0xe9,0x40,0x83,0x45,0xf4,0xff,0x26,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0xf6,
0x7d,0x14,0xe3,0x18,0x24,0xff,0xa2,0x70,0x02,0x74,0xe2,0x64,0x42,0x69,0x45,0x61,
0x82,0x80,0xbb,0x05,0xb0,0x40,0x85,0x48,0xb5,0xbf,0x19,0x71,0x86,0xfc,0xa2,0xf8,
0xa6,0xf4,0xca,0xf0,0xce,0xec,0xd2,0xe8,0xd6,0xe4,0xda,0xe0,0x5e,0xfc,0x62,0xf8,
0x66,0xf4,0x6a,0xf0,0x6e,0xec,0x83,0xc4,0x05,0x00,0x63,0x8c,0x04,0x18,0x2a,0x8a,
0xb2,0x8a,0x13,0x84,0x15,0x00,0x01,0x49,0x93,0x09,0x50,0x02,0x93,0x0b,0x40,0x06,
0x13,0x0c,0xc0,0x06,0x93,0x0c,0x80,0x07,0x13,0x0d,0x00,0x07,0x93,0x0d,0x30,0x07,
0x17,0x0b,0x00,0x00,0x13,0x0b,0x0b,0x6f,0x39,0xa8,0xa6,0x85,0x52,0x85,0x97,0x00,
0x00,0x00,0xe7,0x80,0x40,0xef,0x19,0xa0,0x63,0x0f,0x39,0x01,0x05,0x04,0x83,0x44,
0xf4,0xff,0x63,0x88,0x04,0x14,0x9b,0x87,0x04,0x00,0xe3,0x17,0x09,0xfe,0xe3,0x9e,
0x37,0xfd,0x3e,0x89,0xe5,0xb7,0x63,0x8e,0x77,0x03,0x63,0x8a,0x87,0x05,0x63,0x86,
0x97,0x07,0x63,0x82,0xa7,0x09,0x63,0x83,0xb7,0x0d,0x13,0x07,0x30,0x06,0x63,0x8b,
0xe7,0x0e,0x63,0x85,0x37,0x11,0xce,0x85,0x52,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,
0x80,0xea,0xa6,0x85,0x52,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0xe9,0x01,0x49,
0x75,0xb7,0x93,0x84,0x8a,0x00,0x85,0x46,0x29,0x46,0x83,0xa5,0x0a,0x00,0x52,0x85,
0x97,0x00,0x00,0x00,0xe7,0x80,0xe0,0xe9,0xa6,0x8a,0x01,0x49,0x41,0xbf,0x93,0x84,
0x8a,0x00,0x81,0x46,0x29,0x46,0x83,0xa5,0x0a,0x00,0x52,0x85,0x97,0x00,0x00,0x00,
0xe7,0x80,0x20,0xe8,0xa6,0x8a,0x01,0x49,0x95,0xbf,0x93,0x84,0x8a,0x00,0x81,0x46,
0x41,0x46,0x83,0xa5,0x0a,0x00,0x52,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0xe6,
0xa6,0x8a,0x01,0x49,0xa1,0xbf,0x93,0x87,0x8a,0x00,0x3e,0xe4,0x03,0xb9,0x0a,0x00,
0x93,0x05,0x00,0x03,0x52,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0xc0,0xe2,0xe6,0x85,
0x52,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0x00,0xe2,0xc1,0x44,0x93,0x57,0xc9,0x03,
0xda,0x97,0x83,0xc5,0x07,0x00,0x52,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0xa0,0xe0,
0x12,0x09,0xfd,0x34,0xe5,0xf4,0xa2,0x6a,0x01,0x49,0x09,0xbf,0x93,0x84,0x8a,0x00,
0x03,0xb9,0x0a,0x00,0x63,0x01,0x09,0x02,0x83,0x45,0x09,0x00,0xa1,0xc9,0x52,0x85,
0x97,0x00,0x00,0x00,0xe7,0x80,0x20,0xde,0x05,0x09,0x83,0x45,0x09,0x00,0xe5,0xf9,
0xa6,0x8a,0x01,0x49,0xe5,0xb5,0x17,0x09,0x00,0x00,0x13,0x09,0x29,0x5b,0x93,0x05,
0x80,0x02,0xf1,0xbf,0x93,0x84,0x8a,0x00,0x83,0xc5,0x0a,0x00,0x52,0x85,0x97,0x00,
0x00,0x00,0xe7,0x80,0x40,0xdb,0xa6,0x8a,0x01,0x49,0xc9,0xb5,0xce,0x85,0x52,0x85,
0x97,0x00,0x00,0x00,0xe7,0x80,0x20,0xda,0x01,0x49,0x4d,0xbd,0xa6,0x8a,0x01,0x49,
0x75,0xb5,0xe6,0x70,0x46,0x74,0xa6,0x74,0x06,0x79,0xe6,0x69,0x46,0x6a,0xa6,0x6a,
0x06,0x6b,0xe2,0x7b,0x42,0x7c,0xa2,0x7c,0x02,0x7d,0xe2,0x6d,0x09,0x61,0x82,0x80,
0x5d,0x71,0x06,0xec,0x32,0xf0,0x36,0xf4,0x3a,0xf8,0x3e,0xfc,0xc2,0xe0,0xc6,0xe4,
0x10,0x10,0x32,0xe4,0x97,0x00,0x00,0x00,0xe7,0x80,0x60,0xe1,0xe2,0x60,0x61,0x61,
0x82,0x80,0x1d,0x71,0x06,0xec,0x2e,0xf4,0x32,0xf8,0x36,0xfc,0xba,0xe0,0xbe,0xe4,
0xc2,0xe8,0xc6,0xec,0x30,0x10,0x32,0xe4,0xaa,0x85,0x05,0x45,0x97,0x00,0x00,0x00,
0xe7,0x80,0xe0,0xde,0xe2,0x60,0x25,0x61,0x82,0x80,0x93,0x06,0x05,0xff,0x97,0x07,
0x00,0x00,0x83,0xb7,0xa7,0x52,0x05,0xa8,0x18,0x46,0xb9,0x9d,0x23,0x2c,0xb5,0xfe,
0x98,0x63,0x18,0x63,0x23,0x38,0xe5,0xfe,0x91,0xa0,0x03,0x27,0x85,0xff,0x39,0x9e,
0x90,0xc7,0x03,0x37,0x05,0xff,0x98,0xe3,0x99,0xa0,0x98,0x63,0x63,0xe4,0xe7,0x00,
0x63,0xea,0xe6,0x00,0xba,0x87,0xe3,0xfa,0xd7,0xfe,0x98,0x63,0x63,0xe4,0xe6,0x00,
0xe3,0xea,0xe7,0xfe,0x83,0x25,0x85,0xff,0x90,0x63,0x13,0x97,0x05,0x02,0x01,0x93,
0x12,0x07,0x36,0x97,0xe3,0x0a,0xe6,0xfa,0x23,0x38,0xc5,0xfe,0x90,0x47,0x13,0x17,
0x06,0x02,0x01,0x93,0x12,0x07,0x3e,0x97,0xe3,0x89,0xe6,0xfa,0x94,0xe3,0x17,0x07,
0x00,0x00,0x23,0x3d,0xf7,0x4a,0x82,0x80,0x39,0x71,0x06,0xfc,0x22,0xf8,0x26,0xf4,
0x4a,0xf0,0x4e,0xec,0x52,0xe8,0x56,0xe4,0x13,0x14,0x05,0x02,0x01,0x90,0x3d,0x04,
0x11,0x80,0x1b,0x09,0x14,0x00,0x05,0x04,0x17,0x05,0x00,0x00,0x03,0x35,0x05,0x49,
0x05,0xc9,0x1c,0x61,0x98,0x47,0x63,0x71,0x87,0x04,0xca,0x89,0x1b,0x07,0x09,0x00,
0x85,0x66,0x63,0x73,0xd7,0x00,0x85,0x69,0x1b,0x8a,0x09,0x00,0x82,0x19,0x93,0xd9,
0x09,0x02,0x92,0x09,0x97,0x04,0x00,0x00,0x93,0x84,0x44,0x46,0xfd,0x5a,0xbd,0xa0,
0x97,0x07,0x00,0x00,0x93,0x87,0x07,0x46,0x17,0x07,0x00,0x00,0x23,0x38,0xf7,0x44,
0x9c,0xe3,0x23,0xa4,0x07,0x00,0xd1,0xb7,0x63,0x0a,0xe4,0x02,0x3b,0x07,0x27,0x41,
0x98,0xc7,0x02,0x17,0x01,0x93,0x12,0x07,0xba,0x97,0x23,0xa4,0x27,0x01,0x17,0x07,
0x00,0x00,0x23,0x35,0xa7,0x42,0x13,0x85,0x07,0x01,0xe2,0x70,0x42,0x74,0xa2,0x74,
0x02,0x79,0xe2,0x69,0x42,0x6a,0xa2,0x6a,0x21,0x61,0x82,0x80,0x98,0x63,0x18,0xe1,
0xf9,0xbf,0x23,0x24,0x45,0x01,0x41,0x05,0x97,0x00,0x00,0x00,0xe7,0x80,0x20,0xed,
0x88,0x60,0x61,0xdd,0x1c,0x61,0x98,0x47,0xe3,0x78,0x87,0xfa,0x98,0x60,0x3e,0x85,
0xe3,0x1a,0xf7,0xfe,0x4e,0x85,0x97,0x00,0x00,0x00,0xe7,0x80,0x80,0x8d,0xe3,0x1a,
0x55,0xfd,0x01,0x45,0x5d,0xbf,0x00,0x00,0x61,0x73,0x68,0x00,0x00,0x00,0x00,0x00,
0x2d,0x63,0x00,0x00,0x00,0x00,0x00,0x00,0x65,0x78,0x69,0x74,0x00,0x00,0x00,0x00,
0x73,0x68,0x00,0x00,0x00,0x00,0x00,0x00,0x65,0x78,0x70,0x72,0x00,0x00,0x00,0x00,
0x31,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2b,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x63,0x75,0x74,0x00,0x00,0x00,0x00,0x00,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x74,0x65,0x73,0x74,0x2e,0x74,0x78,0x74,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x68,0x65,0x78,0x64,0x75,0x6d,0x70,0x00,0x2d,0x43,0x00,0x00,0x00,0x00,0x00,0x00,
0x5b,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2d,0x66,0x00,0x00,0x00,0x00,0x00,0x00,
0x5d,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x6d,0x76,0x00,0x00,0x00,0x00,0x00,0x00,
0x74,0x65,0x73,0x74,0x5f,0x64,0x69,0x72,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x74,0x65,0x73,0x74,0x00,0x00,0x00,0x00,0x67,0x72,0x65,0x70,0x00,0x00,0x00,0x00,
0x68,0x65,0x6c,0x6c,0x6f,0x00,0x00,0x00,0x62,0x75,0x73,0x79,0x62,0x6f,0x78,0x5f,
0x63,0x6d,0x64,0x2e,0x74,0x78,0x74,0x00,0x63,0x70,0x00,0x00,0x00,0x00,0x00,0x00,
0x62,0x75,0x73,0x79,0x62,0x6f,0x78,0x5f,0x63,0x6d,0x64,0x2e,0x62,0x61,0x6b,0x00,
0x66,0x69,0x6e,0x64,0x00,0x00,0x00,0x00,0x2d,0x6e,0x61,0x6d,0x65,0x00,0x00,0x00,
0x74,0x65,0x73,0x74,0x63,0x61,0x73,0x65,0x20,0x25,0x73,0x20,0x00,0x00,0x00,0x00,
0x25,0x73,0x20,0x00,0x00,0x00,0x00,0x00,0x73,0x75,0x63,0x63,0x65,0x73,0x73,0x0a,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x61,0x69,0x6c,0x0a,0x00,0x00,0x00,
0x64,0x65,0x76,0x2f,0x74,0x74,0x79,0x00,0x65,0x63,0x68,0x6f,0x00,0x00,0x00,0x00,
0x23,0x23,0x23,0x23,0x20,0x69,0x6e,0x64,0x65,0x70,0x65,0x6e,0x64,0x65,0x6e,0x74,
0x20,0x63,0x6f,0x6d,0x6d,0x61,0x6e,0x64,0x20,0x74,0x65,0x73,0x74,0x00,0x00,0x00,
0x62,0x61,0x73,0x65,0x6e,0x61,0x6d,0x65,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x2f,0x61,0x61,0x61,0x2f,0x62,0x62,0x62,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x63,0x61,0x6c,0x00,0x00,0x00,0x00,0x00,0x63,0x6c,0x65,0x61,0x72,0x00,0x00,0x00,
0x64,0x61,0x74,0x65,0x00,0x00,0x00,0x00,0x64,0x66,0x00,0x00,0x00,0x00,0x00,0x00,
0x64,0x69,0x72,0x6e,0x61,0x6d,0x65,0x00,0x64,0x6d,0x65,0x73,0x67,0x00,0x00,0x00,
0x74,0x72,0x75,0x65,0x00,0x00,0x00,0x00,0x66,0x61,0x6c,0x73,0x65,0x00,0x00,0x00,
0x77,0x68,0x69,0x63,0x68,0x00,0x00,0x00,0x6c,0x73,0x00,0x00,0x00,0x00,0x00,0x00,
0x75,0x6e,0x61,0x6d,0x65,0x00,0x00,0x00,0x75,0x70,0x74,0x69,0x6d,0x65,0x00,0x00,
0x70,0x72,0x69,0x6e,0x74,0x66,0x00,0x00,0x61,0x62,0x63,0x5c,0x6e,0x00,0x00,0x00,
0x70,0x77,0x64,0x00,0x00,0x00,0x00,0x00,0x66,0x72,0x65,0x65,0x00,0x00,0x00,0x00,
0x68,0x77,0x63,0x6c,0x6f,0x63,0x6b,0x00,0x6b,0x69,0x6c,0x6c,0x00,0x00,0x00,0x00,
0x31,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x6c,0x65,0x65,0x70,0x00,0x00,0x00,
0x22,0x23,0x23,0x23,0x23,0x20,0x66,0x69,0x6c,0x65,0x20,0x6f,0x70,0x72,0x61,0x74,
0x69,0x6f,0x6e,0x20,0x74,0x65,0x73,0x74,0x22,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x74,0x6f,0x75,0x63,0x68,0x00,0x00,0x00,0x63,0x61,0x74,0x00,0x00,0x00,0x00,0x00,
0x6f,0x64,0x00,0x00,0x00,0x00,0x00,0x00,0x68,0x65,0x61,0x64,0x00,0x00,0x00,0x00,
0x74,0x61,0x69,0x6c,0x00,0x00,0x00,0x00,0x6d,0x64,0x35,0x73,0x75,0x6d,0x00,0x00,
0x73,0x74,0x61,0x74,0x00,0x00,0x00,0x00,0x73,0x74,0x72,0x69,0x6e,0x67,0x73,0x00,
0x77,0x63,0x00,0x00,0x00,0x00,0x00,0x00,0x6d,0x6f,0x72,0x65,0x00,0x00,0x00,0x00,
0x72,0x6d,0x00,0x00,0x00,0x00,0x00,0x00,0x6d,0x6b,0x64,0x69,0x72,0x00,0x00,0x00,
0x72,0x6d,0x64,0x69,0x72,0x00,0x00,0x00,0x64,0x61,0x74,0x65,0x2e,0x6c,0x75,0x61,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x69,0x6c,0x65,0x5f,0x69,0x6f,0x2e,
0x6c,0x75,0x61,0x00,0x00,0x00,0x00,0x00,0x6d,0x61,0x78,0x5f,0x6d,0x69,0x6e,0x2e,
0x6c,0x75,0x61,0x00,0x00,0x00,0x00,0x00,0x72,0x61,0x6e,0x64,0x6f,0x6d,0x2e,0x6c,
0x75,0x61,0x00,0x00,0x00,0x00,0x00,0x00,0x72,0x65,0x6d,0x6f,0x76,0x65,0x2e,0x6c,
0x75,0x61,0x00,0x00,0x00,0x00,0x00,0x00,0x72,0x6f,0x75,0x6e,0x64,0x5f,0x6e,0x75,
0x6d,0x2e,0x6c,0x75,0x61,0x00,0x00,0x00,0x73,0x69,0x6e,0x33,0x32,0x2e,0x6c,0x75,
0x61,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x6f,0x72,0x74,0x2e,0x6c,0x75,0x61,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x74,0x72,0x69,0x6e,0x67,0x73,0x2e,
0x6c,0x75,0x61,0x00,0x00,0x00,0x00,0x00,0x62,0x75,0x73,0x79,0x62,0x6f,0x78,0x00,
0x68,0x65,0x6c,0x6c,0x6f,0x20,0x77,0x6f,0x72,0x6c,0x64,0x0a,0x00,0x00,0x00,0x00,
0x58,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
0x68,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
0x40,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xa0,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0xa8,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0xb0,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x28,0x6e,0x75,0x6c,0x6c,0x29,0x00,0x00,
0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x41,0x42,0x43,0x44,0x45,0x46,
0x00,
};

void
initfirsttask()
{
  struct proc *p = allocproc();
  initproc = p;

  // 为进程分配一页内存, 并将初始化的数据和指令写入
  uvmfirst(p->pagetable, initcode, sizeof(initcode));

  p->sz = PGSIZE + PGSIZE;

  // 内核第一次进入user space
  p->trapframe->epc = 0x106;    // occmp
  p->trapframe->sp = PGSIZE * 2;

  memmove(p->name, "initcode", sizeof(p->name));

  p->currentDir[0] = '/';
  // for(int i = 0; i < NOFILE; i++)  p->ofile = 0;

  p->state = RUNNING;
}



void
setkilled(struct proc *p)
{
  acquire(&p->lock);
  p->killed = 1;
  release(&p->lock);
}


// Give up the CPU for one scheduling round.
void
yield(void)
{
  struct proc *p = myproc();
  acquire(&p->lock);
  p->state = RUNNABLE;
  sched();
  release(&p->lock);
}

void
scheduler()
{
  panic("scheduler todo");
}
